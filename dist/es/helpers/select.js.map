{"version":3,"file":"select.js","names":["_lodash","_interopRequireDefault","require","e","__esModule","argsToArray","args","arguments","length","undefined","_","isArray","first","parsePathArray","paths","parsedPath","each","path","push","isString","split","flatten","match","source","selector","filter","item","isMatch","select","value","currentPath","primaryKey","_len","Array","_key","pathArray","find","isPlainObject","get"],"sources":["../../../src/helpers/select.js"],"sourcesContent":["import _ from 'lodash';\n\nconst argsToArray = (args = []) => ((_.isArray(_.first(args))) ? _.first(args) : args);\n\nconst parsePathArray = (args) => {\n  const paths = argsToArray(args);\n  const parsedPath = [];\n  _.each(paths, (path) => {\n    parsedPath.push(_.isString(path) ? path.split('.') : path);\n  });\n  return _.flatten(parsedPath);\n};\n\nfunction match(source, selector) {\n  return _.filter(source, (item) => _.isMatch(item, selector));\n}\n\nexport default function select(source, ...args) {\n  let value = source;\n  const currentPath = [];\n  const primaryKey = 'id';\n  const pathArray = parsePathArray(args);\n  _.each(pathArray, (selector) => {\n    currentPath.push(selector);\n    if (_.isArray(value)) {\n      if (_.isString(selector)) {\n        value = _.find(value, (item) => (item[primaryKey] === selector));\n      } else if (_.isPlainObject(selector)) {\n        value = match(value, selector);\n      }\n    } else {\n      value = value ? _.get(value, selector) : undefined;\n    }\n  });\n  return value;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuB,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAEvB,IAAME,WAAW,GAAG,SAAdA,WAAWA,CAAA;EAAA,IAAIC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,OAAOG,kBAAC,CAACC,OAAO,CAACD,kBAAC,CAACE,KAAK,CAACN,IAAI,CAAC,CAAC,GAAII,kBAAC,CAACE,KAAK,CAACN,IAAI,CAAC,GAAGA,IAAI;AAAA,CAAC;AAEtF,IAAMO,cAAc,GAAG,SAAjBA,cAAcA,CAAIP,IAAI,EAAK;EAC/B,IAAMQ,KAAK,GAAGT,WAAW,CAACC,IAAI,CAAC;EAC/B,IAAMS,UAAU,GAAG,EAAE;EACrBL,kBAAC,CAACM,IAAI,CAACF,KAAK,EAAE,UAACG,IAAI,EAAK;IACtBF,UAAU,CAACG,IAAI,CAACR,kBAAC,CAACS,QAAQ,CAACF,IAAI,CAAC,GAAGA,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC,GAAGH,IAAI,CAAC;EAC5D,CAAC,CAAC;EACF,OAAOP,kBAAC,CAACW,OAAO,CAACN,UAAU,CAAC;AAC9B,CAAC;AAED,SAASO,KAAKA,CAACC,MAAM,EAAEC,QAAQ,EAAE;EAC/B,OAAOd,kBAAC,CAACe,MAAM,CAACF,MAAM,EAAE,UAACG,IAAI;IAAA,OAAKhB,kBAAC,CAACiB,OAAO,CAACD,IAAI,EAAEF,QAAQ,CAAC;EAAA,EAAC;AAC9D;AAEe,SAASI,MAAMA,CAACL,MAAM,EAAW;EAC9C,IAAIM,KAAK,GAAGN,MAAM;EAClB,IAAMO,WAAW,GAAG,EAAE;EACtB,IAAMC,UAAU,GAAG,IAAI;EAAC,SAAAC,IAAA,GAAAzB,SAAA,CAAAC,MAAA,EAHgBF,IAAI,OAAA2B,KAAA,CAAAD,IAAA,OAAAA,IAAA,WAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;IAAJ5B,IAAI,CAAA4B,IAAA,QAAA3B,SAAA,CAAA2B,IAAA;EAAA;EAI5C,IAAMC,SAAS,GAAGtB,cAAc,CAACP,IAAI,CAAC;EACtCI,kBAAC,CAACM,IAAI,CAACmB,SAAS,EAAE,UAACX,QAAQ,EAAK;IAC9BM,WAAW,CAACZ,IAAI,CAACM,QAAQ,CAAC;IAC1B,IAAId,kBAAC,CAACC,OAAO,CAACkB,KAAK,CAAC,EAAE;MACpB,IAAInB,kBAAC,CAACS,QAAQ,CAACK,QAAQ,CAAC,EAAE;QACxBK,KAAK,GAAGnB,kBAAC,CAAC0B,IAAI,CAACP,KAAK,EAAE,UAACH,IAAI;UAAA,OAAMA,IAAI,CAACK,UAAU,CAAC,KAAKP,QAAQ;QAAA,CAAC,CAAC;MAClE,CAAC,MAAM,IAAId,kBAAC,CAAC2B,aAAa,CAACb,QAAQ,CAAC,EAAE;QACpCK,KAAK,GAAGP,KAAK,CAACO,KAAK,EAAEL,QAAQ,CAAC;MAChC;IACF,CAAC,MAAM;MACLK,KAAK,GAAGA,KAAK,GAAGnB,kBAAC,CAAC4B,GAAG,CAACT,KAAK,EAAEL,QAAQ,CAAC,GAAGf,SAAS;IACpD;EACF,CAAC,CAAC;EACF,OAAOoB,KAAK;AACd","ignoreList":[]}