{"version":3,"file":"Router.js","names":["_react","_interopRequireDefault","require","_propTypes","_reactRouter","_Component","_History","_Runtime","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_classCallCheck","a","n","TypeError","_defineProperties","r","t","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","call","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","value","_setPrototypeOf","_defineProperty","i","_toPrimitive","toPrimitive","String","Number","Router","_React$Component","props","state","_this","_this$props","history","historyHook","toggleHistory","listen","location","action","componentWillUnmount","render","ReactRouter","displayName","createElement","React","Component","_ref","ownProps","Store","Runtime","getInternalState","events","router","_ref2","nextProps","_ref3","dispatch","actionCreators","payload","type","PropTypes","object","func","isRequired","History","_ref4","_default","exports"],"sources":["../../../src/instance/Router.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Router as ReactRouter } from 'react-router';\nimport Component from '../Component';\nimport History from './History';\nimport Runtime from './Runtime';\n\nclass Router extends React.Component {\n\n  static stateToProps = ({ ownProps }) => {\n    const Store = Runtime('store');\n    const state = Store.getInternalState();\n    return {\n      events: state.router,\n    };\n  };\n\n  static actionCreators = ({ nextProps }) => {\n    const { historyHook } = nextProps;\n    return {\n      historyHook: historyHook || false,\n    };\n  };\n\n  static dispatchToProps = ({ dispatch, actionCreators }) => {\n    const { historyHook } = actionCreators;\n    return {\n      historyHook: historyHook || ((payload) => dispatch({\n        type: '@@NAVIGATE',\n        payload: payload,\n      })),\n    };\n  };\n\n  static propTypes = {\n    history: PropTypes.object,\n    historyHook: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    history: History,\n  };\n\n  static propsToContext = ({ ownProps }) => ({\n    location: ownProps.history.location,\n    history: ownProps.history,\n  });\n\n  constructor(props, state) {\n    super(props, state);\n    const { history, historyHook } = this.props;\n    this.toggleHistory = history.listen((location, action) => {\n      historyHook({ location, action });\n    });\n  }\n\n  componentWillUnmount() {\n    this.toggleHistory();\n  }\n\n  render() {\n    ReactRouter.displayName = 'ReactRouter';\n    return <ReactRouter {...this.props} />;\n  }\n\n}\n\nexport default Component(Router);\n"],"mappings":"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","ignoreList":[]}