{"version":3,"file":"Core.js","names":["_react","_interopRequireDefault","require","_reactDom","_reactRedux","_Smart2","_Store","_Router","_Context","_Runtime","e","__esModule","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","Symbol","iterator","constructor","prototype","_construct","_isNativeReflectConstruct","Reflect","construct","p","bind","_setPrototypeOf","_classCallCheck","a","n","TypeError","_defineProperties","configurable","writable","_toPropertyKey","key","_createClass","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","call","setPrototypeOf","getPrototypeOf","__proto__","_inherits","create","value","i","_toPrimitive","toPrimitive","String","Number","Core","_Smart","initialize","env","htmlRoot","document","getElementById","body","ReactContext","_providerRenderer","render","createElement","Provider","store","internal","_routerRenderer","ReactRouter","router","withRouter","history","historyHook","React","root","init","_len","args","Array","_key","Smart","options","setRuntime","context","Context","name","undefined","reducer","state","Router","Store","customMiddlewares","_default","exports"],"sources":["../../src/Core.js"],"sourcesContent":["import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport Smart from './Smart';\nimport Store from './Store';\nimport Router from './instance/Router';\nimport Context from './instance/Context';\nimport { setRuntime } from './instance/Runtime';\n\nclass Core extends Smart {\n\n  static init(...args) {\n    return new this(...args);\n  }\n\n  static defaults = (options) => setRuntime({\n    ...options,\n    context: options.context || Context,\n    name: options.name || 'App',\n    history: options.history || undefined,\n    historyHook: options.historyHook || undefined,\n    htmlRoot: options.htmlRoot || false,\n    reducer: options.reducer || ((state) => state),\n    root: options.root || (() => React.createElement('div', null, 'It works!')),\n    router: options.router || Router,\n    store: new Store({\n      name: options.name,\n      reducer: options.reducer,\n      customMiddlewares: options.customMiddlewares,\n    }),\n    withRouter: options.withRouter !== false,\n  });\n\n  initialize(env) {\n    const htmlRoot = document.getElementById(this.htmlRoot) || document.body;\n    const ReactContext = this._providerRenderer();\n    render(ReactContext, htmlRoot);\n  }\n\n  _providerRenderer() {\n    return (\n      <Provider store={this.store.internal}>\n        <Provider store={this.store}>\n          {this._routerRenderer()}\n        </Provider>\n      </Provider>\n    );\n  }\n\n  _routerRenderer() {\n    const ReactRouter = this.router;\n    if (this.withRouter === true) {\n      return (\n        <ReactRouter history={this.history} historyHook={this.historyHook}>\n          {React.createElement(this.root)}\n        </ReactRouter>\n      );\n    }\n    return React.createElement(this.root);\n  }\n\n}\n\nexport default Core;\n"],"mappings":"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","ignoreList":[]}