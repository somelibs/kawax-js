{"version":3,"file":"Smart.js","names":["_lodash","_interopRequireDefault","require","_resolve","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_construct","t","r","_isNativeReflectConstruct","Reflect","construct","apply","arguments","push","p","bind","_setPrototypeOf","Object","setPrototypeOf","__proto__","Boolean","valueOf","call","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","a","n","TypeError","_defineProperties","configurable","writable","_toPropertyKey","key","_createClass","value","i","_toPrimitive","toPrimitive","String","Number","EXCLUDE_STATIC","Smart","options","props","_defineProps","_defineDetaults","_len","args","Array","_key","initialize","concat","setState","_len2","_key2","assign","state","resolve","instance","undefined","getPrototypeOf","parent","statics","_","pickBy","property","includes","inheritedProps","defaults","_call","_len3","_key3","export","_len4","_key4","build","_this","_len5","_key5","context","_default","exports"],"sources":["../../src/Smart.js"],"sourcesContent":["import _ from 'lodash';\nimport resolve from './helpers/resolve';\n\nconst EXCLUDE_STATIC = ['export', 'build'];\n\nclass Smart {\n\n  static defaults = false;\n\n  static export(...args) {\n    const instance = new this(...args);\n    return (...context) => instance._call(...context);\n  }\n\n  static build(options, ...args) {\n    return (context) => new this({ ...options, ...context }, ...args);\n  }\n\n  constructor(options, ...args) {\n    this.props = this._defineProps();\n    this._defineDetaults(options);\n    return this.initialize(options, ...args);\n  }\n\n  state = {};\n\n  initialize() { return this; }\n\n  setState(...args) {\n    Object.assign(this.state, resolve.call(this, this.state, ...args));\n    return this.state;\n  }\n\n  _defineProps(instance = false) {\n    const prototype = instance || Object.getPrototypeOf(this);\n    const parent = Object.getPrototypeOf(prototype);\n    const statics = prototype.constructor;\n    const props = _.pickBy(statics, (property, key) => !_.includes(EXCLUDE_STATIC, key));\n    const inheritedProps = (parent instanceof Smart) ? this._defineProps(parent) : {};\n    return { ...inheritedProps, ...props };\n  }\n\n  _defineDetaults(options) {\n    const defaults = resolve.call(this, this.props.defaults, options, this.props);\n    Object.assign(this, defaults);\n  }\n\n  _call(...args) {\n    this.setState(...args);\n    return this.call ? resolve.call(this, this.call, ...args) : false;\n  }\n\n}\n\nexport default Smart;\n"],"mappings":"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","ignoreList":[]}